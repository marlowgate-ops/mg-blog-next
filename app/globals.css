/* Global base (system UI) */
:root {
  --bg: #ffffff;
  --fg: #0a0a0a;
  --muted: #6b7280;
  --border: #e5e7eb;
  --card-bg: #ffffff;
  --hover: #f3f4f6;
  --shadow: 0 1px 2px rgba(0,0,0,0.04), 0 6px 20px rgba(0,0,0,0.06);
}
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0a0a0a;
    --fg: #fafafa;
    --muted: #a3a3a3;
    --border: #2a2a2a;
    --card-bg: #0f0f0f;
    --hover: #161616;
    --shadow: 0 1px 2px rgba(0,0,0,0.2), 0 6px 20px rgba(0,0,0,0.35);
  }
}
html, body {
  background: var(--bg);
  color: var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
a { color: inherit; }
img { max-width: 100%; height: auto; border-radius: 12px; }

/* Layout helpers */
.container { max-width: 1040px; margin: 0 auto; padding: 48px 20px; }
.h1 { font-size: 2rem; font-weight: 800; letter-spacing: -0.01em; }
.h2 { font-size: 1.375rem; font-weight: 800; letter-spacing: -0.01em; margin: 0 0 0.5rem; }
.muted { color: var(--muted); }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px; }

/* Cards & UI atoms */
.card { background: var(--card-bg); border: 1px solid var(--border); border-radius: 18px; padding: 20px; transition: box-shadow .2s ease, transform .2s ease; }
.card:hover { box-shadow: var(--shadow); transform: translateY(-1px); }
.btn { display: inline-block; border: 1px solid var(--border); padding: 8px 14px; border-radius: 999px; text-decoration: none; }
.btn:hover { background: var(--hover); }
.chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
.chip { display: inline-block; border: 1px solid var(--border); padding: 2px 8px; border-radius: 9999px; font-size: 12px; color: var(--muted); }
.small { font-size: 12px; }
.nowrap { white-space: nowrap; }

/* Breadcrumbs */
.breadcrumbs { margin: 0 0 16px; overflow-x: auto; white-space: nowrap; }
.breadcrumbs ol { display: flex; align-items: center; gap: 6px; list-style: none; padding: 0; margin: 0; }
.crumb-link { display: inline-flex; align-items: center; padding: 6px 10px; border-radius: 9999px; text-decoration: none; }
.crumb-link:hover { background: var(--hover); }
.crumb-current { background: var(--hover); padding: 6px 10px; border-radius: 9999px; }
.sep { color: var(--muted); display: inline-flex; align-items: center; padding: 0 4px; }

/* Prose spacing for article */
.prose p { margin: 0.8em 0; }
.prose h2, .prose h3 { margin: 2em 0 .6em; }
.prose pre, .prose code { background: var(--hover); padding: .2em .4em; border-radius: 8px; }
.prose pre { padding: 12px; overflow: auto; }
.prose table { width: 100%; border-collapse: collapse; }
.prose th, .prose td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }

/* === PRINT OPTIMIZATION (A) === */
@media print {
  html, body { background: #fff !important; color: #000 !important; }
  a { color: inherit !important; text-decoration: none !important; }
  table { border-collapse: collapse; width: 100%; }
  thead { display: table-header-group; }
  tfoot { display: table-row-group; }
  tr, img, blockquote, pre, code, table, thead, tbody, tfoot, figure {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    break-after: avoid;
    page-break-after: avoid;
  }
  .page-break { break-before: page; page-break-before: always; }
  .no-print { display: none !important; }
  .print-only { display: block !important; }
}
/* ---- Layout primitives (moved from styled-jsx to global to avoid FOUC) ---- */
.mg-container { max-width: 1180px; margin: 0 auto; padding: 0 16px; }
@media (min-width: 1600px) { .mg-container { max-width: 1280px; } }
/* Reserve header height to minimize layout shift on mount */
header.hd { min-height: 66px; }
